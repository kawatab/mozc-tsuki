# Enable IME
SEND_KEY	ON
RESET_CONTEXT

# Set to Qwerty kana mode.
SET_MOBILE_REQUEST
UPDATE_MOBILE_KEYBOARD	QWERTY_MOBILE_TO_HIRAGANA	SPACE_OR_CONVERT_KEEPING_COMPOSITION
SWITCH_INPUT_MODE	HIRAGANA

SEND_KEYS	watasinonekononamaewooosiesimasu
EXPECT_PREEDIT	わたしのねこのなまえをおおしえします
EXPECT_IN_ALL_CANDIDATE_WORDS	私の

SUBMIT_CANDIDATE_BY_VALUE	私の

EXPECT_PREEDIT	ねこのなまえをおおしえします

# ConsumedSendKey stats includes "SEND_KEY ON".
EXPECT_USAGE_STATS_COUNT	ConsumedSendKey	33
EXPECT_USAGE_STATS_COUNT	UnconsumedSendKey	0
EXPECT_USAGE_STATS_COUNT	Commit	1
EXPECT_USAGE_STATS_COUNT	CommitFromConversion	0
EXPECT_USAGE_STATS_COUNT	CommitFromPrediction	1
EXPECT_USAGE_STATS_COUNT	CommitFromComposition	0
EXPECT_USAGE_STATS_COUNT	CommitFromUnknown	0

EXPECT_USAGE_STATS_COUNT	MouseSelect	1
EXPECT_USAGE_STATS_COUNT	BackSpaceAfterCommit	0

EXPECT_USAGE_STATS_TIMING	SubmittedSegmentLengthx1000	2000	1	2000	2000
EXPECT_USAGE_STATS_TIMING	SubmittedSegmentNumberx1000	1000	1	1000	1000
EXPECT_USAGE_STATS_TIMING	SubmittedLengthx1000	2000	1	2000	2000
EXPECT_USAGE_STATS_COUNT	SubmittedTotalLength	2

# Execute same sequence to check candidate index.
RESET_CONTEXT
CLEAR_USAGE_STATS

# Set to Qwerty kana mode.
SET_MOBILE_REQUEST
UPDATE_MOBILE_KEYBOARD	QWERTY_MOBILE_TO_HIRAGANA	SPACE_OR_CONVERT_KEEPING_COMPOSITION
SWITCH_INPUT_MODE	HIRAGANA

SEND_KEYS	watasinonekononamaewooosiesimasu
SUBMIT_CANDIDATE	2

EXPECT_USAGE_STATS_COUNT	ConsumedSendKey	32
EXPECT_USAGE_STATS_COUNT	UnconsumedSendKey	0
EXPECT_USAGE_STATS_COUNT	Commit	1
EXPECT_USAGE_STATS_COUNT	CommitFromConversion	0
EXPECT_USAGE_STATS_COUNT	CommitFromPrediction	1
EXPECT_USAGE_STATS_COUNT	CommitFromComposition	0
EXPECT_USAGE_STATS_COUNT	CommitFromUnknown	0

EXPECT_USAGE_STATS_COUNT	ConversionCandidates0	0
EXPECT_USAGE_STATS_COUNT	ConversionCandidates1	0
EXPECT_USAGE_STATS_COUNT	ConversionCandidates2	0
EXPECT_USAGE_STATS_COUNT	ConversionCandidates3	0
EXPECT_USAGE_STATS_COUNT	ConversionCandidates4	0
EXPECT_USAGE_STATS_COUNT	ConversionCandidates5	0
EXPECT_USAGE_STATS_COUNT	ConversionCandidatesGE10	0

EXPECT_USAGE_STATS_COUNT	TransliterationCandidates0	0
EXPECT_USAGE_STATS_COUNT	TransliterationCandidates1	0
EXPECT_USAGE_STATS_COUNT	TransliterationCandidates2	0
EXPECT_USAGE_STATS_COUNT	TransliterationCandidates3	0
EXPECT_USAGE_STATS_COUNT	TransliterationCandidates4	0
EXPECT_USAGE_STATS_COUNT	TransliterationCandidates5	0
EXPECT_USAGE_STATS_COUNT	TransliterationCandidatesGE10	0

EXPECT_USAGE_STATS_COUNT	PredictionCandidates0	0
EXPECT_USAGE_STATS_COUNT	PredictionCandidates1	0
EXPECT_USAGE_STATS_COUNT	PredictionCandidates2	1
EXPECT_USAGE_STATS_COUNT	PredictionCandidates3	0
EXPECT_USAGE_STATS_COUNT	PredictionCandidates4	0
EXPECT_USAGE_STATS_COUNT	PredictionCandidates5	0
EXPECT_USAGE_STATS_COUNT	PredictionCandidatesGE10	0

EXPECT_USAGE_STATS_COUNT	MouseSelect	1
EXPECT_USAGE_STATS_COUNT	BackSpaceAfterCommit	0
